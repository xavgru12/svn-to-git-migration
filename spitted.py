import subprocess
import sys


def check_output(command, working_directory):
    if not isinstance(command, list):
        command = command.split()
    output = subprocess.check_output(
        command, cwd=f"{working_directory}", stderr=subprocess.DEVNULL
    ).decode(sys.stdout.encoding)


working_directory = r"C:\bitbucketWorkspace\gitNoExternals\ag-nor-image-creator"
my_string = "refs/remotes/origin/subbranches/work/ex1-23359_Gyro%20while%20driving%20with%20proportional%20input:refs/heads/work/ex1-23359_Gyro%20while%20driving%20with%20proportional%20input\nrefs/remotes/origin/subbranches/work/ex1-23368%20-%20Stop%20gyro%20auto%20calibration%20if%20brakes%20open%20(manually%20released):refs/heads/work/ex1-23368%20-%20Stop%20gyro%20auto%20calibration%20if%20brakes%20open%20(manually%20released)\nrefs/remotes/origin/subbranches/work/ex1-23472_WDT_v01.128:refs/heads/work/ex1-23472_WDT_v01.128\nrefs/remotes/origin/subbranches/work/ex1-23472_WDT_v01.130:refs/heads/work/ex1-23472_WDT_v01.130\nrefs/remotes/origin/subbranches/work/ex1-23472_WDT_v01.131:refs/heads/work/ex1-23472_WDT_v01.131\nrefs/remotes/origin/subbranches/work/ex1-23595%20AML3%20Support:refs/heads/work/ex1-23595%20AML3%20Support\nrefs/remotes/origin/subbranches/work/ex1-23638:refs/heads/work/ex1-23638\nrefs/remotes/origin/subbranches/work/ex1-23638_2:refs/heads/work/ex1-23638_2\nrefs/remotes/origin/subbranches/work/ex1-23638_3:refs/heads/work/ex1-23638_3\nrefs/remotes/origin/subbranches/work/ex1-23700%20ANO_DEVICE_MANAGER_READ_FAILED:refs/heads/work/ex1-23700%20ANO_DEVICE_MANAGER_READ_FAILED\nrefs/remotes/origin/subbranches/work/ex1-23707:refs/heads/work/ex1-23707\nrefs/remotes/origin/subbranches/work/ex1-23760%20-%20Seat%20ES%20and%20Inclination%20mapping:refs/heads/work/ex1-23760%20-%20Seat%20ES%20and%20Inclination%20mapping\nrefs/remotes/origin/subbranches/work/ex1-23839%20Bluetooth%20HAL%20Abstraction:refs/heads/work/ex1-23839%20Bluetooth%20HAL%20Abstraction\nrefs/remotes/origin/subbranches/work/ex1-23939%20-%20Add%20OEM%20branding%20to%20each%20device:refs/heads/work/ex1-23939%20-%20Add%20OEM%20branding%20to%20each%20device\nrefs/remotes/origin/subbranches/work/ex1-23990:refs/heads/work/ex1-23990\nrefs/remotes/origin/subbranches/work/ex1-24147_Actuators_Calibration:refs/heads/work/ex1-24147_Actuators_Calibration\nrefs/remotes/origin/subbranches/work/ex1-24150_Memory%20Seating_Enable:refs/heads/work/ex1-24150_Memory%20Seating_Enable\nrefs/remotes/origin/subbranches/work/ex1-24180:refs/heads/work/ex1-24180\nrefs/remotes/origin/subbranches/work/ex1-24323%20TestVersion%20Info%20popup%20does%20not%20appear:refs/heads/work/ex1-24323%20TestVersion%20Info%20popup%20does%20not%20appear\nrefs/remotes/origin/subbranches/work/ex1-24361:refs/heads/work/ex1-24361\nrefs/remotes/origin/subbranches/work/ex1-24409%20Definition%20for%20next%20Tag%201.019.000:refs/heads/work/ex1-24409%20Definition%20for%20next%20Tag%201.019.000\nrefs/remotes/origin/subbranches/work/ex1-24585%20HE%20LE%20Interfaces%20and%20Factories%20LogicalMaster:refs/heads/work/ex1-24585%20HE%20LE%20Interfaces%20and%20Factories%20LogicalMaster\nrefs/remotes/origin/subbranches/work/ex1-24701%20-%20Database%20shaping%20tests:refs/heads/work/ex1-24701%20-%20Database%20shaping%20tests\nrefs/remotes/origin/subbranches/work/ex1-24862:refs/heads/work/ex1-24862\nrefs/remotes/origin/subbranches/work/ex1-24880:refs/heads/work/ex1-24880\nrefs/remotes/origin/subbranches/work/ex1-24880_2:refs/heads/work/ex1-24880_2\nrefs/remotes/origin/subbranches/work/ex1-24880_3:refs/heads/work/ex1-24880_3\nrefs/remotes/origin/subbranches/work/ex1-24886%20HW-VersionCheck:refs/heads/work/ex1-24886%20HW-VersionCheck\nrefs/remotes/origin/subbranches/work/ex1-24965_crash_incmpDev:refs/heads/work/ex1-24965_crash_incmpDev\nrefs/remotes/origin/subbranches/work/ex1-24965_incompDev2:refs/heads/work/ex1-24965_incompDev2\nrefs/remotes/origin/subbranches/work/ex1-24965_incompDev3:refs/heads/work/ex1-24965_incompDev3\nrefs/remotes/origin/subbranches/work/ex1-25025:refs/heads/work/ex1-25025\nrefs/remotes/origin/subbranches/work/ex1-25031:refs/heads/work/ex1-25031\nrefs/remotes/origin/subbranches/work/ex1-25066:refs/heads/work/ex1-25066\nrefs/remotes/origin/subbranches/work/ex1-25073%20HCQ:refs/heads/work/ex1-25073%20HCQ\nrefs/remotes/origin/subbranches/work/ex1-25175:refs/heads/work/ex1-25175\nrefs/remotes/origin/subbranches/work/ex1-25245%20EMCY%20Power%20Off:refs/heads/work/ex1-25245%20EMCY%20Power%20Off\nrefs/remotes/origin/subbranches/work/ex1-25245%20EMCY%20SysPowerOff:refs/heads/work/ex1-25245%20EMCY%20SysPowerOff\nrefs/remotes/origin/subbranches/work/ex1-25312%20Programmer%20Info%20SystemState%20FW%20Update:refs/heads/work/ex1-25312%20Programmer%20Info%20SystemState%20FW%20Update\nrefs/remotes/origin/subbranches/work/ex1-25319:refs/heads/work/ex1-25319\nrefs/remotes/origin/subbranches/work/ex1-25330:refs/heads/work/ex1-25330\nrefs/remotes/origin/subbranches/work/ex1-25339%20addPB75_90:refs/heads/work/ex1-25339%20addPB75_90\nrefs/remotes/origin/subbranches/work/ex1-25351%202xAM:refs/heads/work/ex1-25351%202xAM\nrefs/remotes/origin/subbranches/work/ex1-25510_4-WaySeatMode:refs/heads/work/ex1-25510_4-WaySeatMode\nrefs/remotes/origin/subbranches/work/ex1-25510_4WaySeatMode:refs/heads/work/ex1-25510_4WaySeatMode\nrefs/remotes/origin/subbranches/work/ex1-25510_TB4_4WaySeat:refs/heads/work/ex1-25510_TB4_4WaySeat\nrefs/remotes/origin/subbranches/work/ex1-25527%20SysSupHCB:refs/heads/work/ex1-25527%20SysSupHCB\nrefs/remotes/origin/subbranches/work/ex1-25528_HCQ_DevAbstr:refs/heads/work/ex1-25528_HCQ_DevAbstr\nrefs/remotes/origin/subbranches/work/ex1-25554:refs/heads/work/ex1-25554\nrefs/remotes/origin/subbranches/work/ex1-25749:refs/heads/work/ex1-25749\nrefs/remotes/origin/subbranches/work/ex1-25845_data_flah_corruption:refs/heads/work/ex1-25845_data_flah_corruption\nrefs/remotes/origin/subbranches/work/ex1-25845_data_flash_corruption_AVTS_trunk:refs/heads/work/ex1-25845_data_flash_corruption_AVTS_trunk\nrefs/remotes/origin/subbranches/work/ex1-25845_fix_edb:refs/heads/work/ex1-25845_fix_edb\nrefs/remotes/origin/subbranches/work/ex1-25848_Update_flash_file_system:refs/heads/work/ex1-25848_Update_flash_file_system\nrefs/remotes/origin/subbranches/work/ex1-25981%20CANopen%20OD%20initialization:refs/heads/work/ex1-25981%20CANopen%20OD%20initialization\nrefs/remotes/origin/subbranches/work/ex1-26085:refs/heads/work/ex1-26085\nrefs/remotes/origin/subbranches/work/ex1-26095%20Get%20HW:refs/heads/work/ex1-26095%20Get%20HW\nrefs/remotes/origin/subbranches/work/ex1-26158:refs/heads/work/ex1-26158\nrefs/remotes/origin/subbranches/work/ex1-26185:refs/heads/work/ex1-26185\nrefs/remotes/origin/subbranches/work/ex1-26325%20FwPkgPr:refs/heads/work/ex1-26325%20FwPkgPr\nrefs/remotes/origin/subbranches/work/ex1-26342%20FBs%20by%20Factory:refs/heads/work/ex1-26342%20FBs%20by%20Factory\nrefs/remotes/origin/subbranches/work/ex1-26588%20driven%20FBTs:refs/heads/work/ex1-26588%20driven%20FBTs\nrefs/remotes/origin/subbranches/work/ex1-26590-ChairBase:refs/heads/work/ex1-26590-ChairBase\nrefs/remotes/origin/subbranches/work/ex1-26613%20puddle%20light:refs/heads/work/ex1-26613%20puddle%20light\nrefs/remotes/origin/subbranches/work/ex1-26714_2:refs/heads/work/ex1-26714_2\nrefs/remotes/origin/subbranches/work/ex1-26714_3:refs/heads/work/ex1-26714_3\nrefs/remotes/origin/subbranches/work/ex1-26752%20Create%20FbCfgMap:refs/heads/work/ex1-26752%20Create%20FbCfgMap\nrefs/remotes/origin/subbranches/work/ex1-26836:refs/heads/work/ex1-26836\nrefs/remotes/origin/subbranches/work/ex1-26957:refs/heads/work/ex1-26957\nrefs/remotes/origin/subbranches/work/ex1-27031%20CAN%20Bus%20instable%20(HC-Q):refs/heads/work/ex1-27031%20CAN%20Bus%20instable%20(HC-Q)\nrefs/remotes/origin/subbranches/work/ex1-27035_Compare_driving_LE_Q:refs/heads/work/ex1-27035_Compare_driving_LE_Q\nrefs/remotes/origin/subbranches/work/ex1-27129_ex1-27131:refs/heads/work/ex1-27129_ex1-27131\nrefs/remotes/origin/subbranches/work/ex1-27168_CANopenLib:refs/heads/work/ex1-27168_CANopenLib\nrefs/remotes/origin/subbranches/work/ex1-3116:refs/heads/work/ex1-3116\nrefs/remotes/origin/subbranches/work/ex1LE-71:refs/heads/work/ex1LE-71\nrefs/remotes/origin/subbranches/work/ex1_25422_mergeHCB:refs/heads/work/ex1_25422_mergeHCB\nrefs/remotes/origin/subbranches/work/onlyUid:refs/heads/work/onlyUid\nrefs/remotes/origin/subbranches/work/phabricator_demo_1:refs/heads/work/phabricator_demo_1\nrefs/remotes/origin/subbranches/work/onlyUid:refs/heads/work/onlyUid\nrefs/remotes/origin/subbranches/work/phabricator_demo_1:refs/heads/work/phabricator_demo_1\nrefs/remotes/origin/subbranches/work/phabricator_demo_1:refs/heads/work/phabricator_demo_1\nrefs/remotes/origin/trunk:refs/heads/main"
print(my_string)
commands = my_string.split("\n")
subprocess_commands = []
for command in commands:
    subprocess_command = f"git push test {command}"
    subprocess_commands.append(subprocess_command)

for command in subprocess_commands:
    check_output(command, working_directory)
